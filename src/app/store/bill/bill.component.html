<!-- Modal Qu·∫£ng c√°o -->
<div *ngIf="isAdModalOpen" class="fixed inset-0 z-50 flex items-center justify-center bg-gray-500 bg-opacity-75">
  <div class="relative w-full h-full flex items-center justify-center">
    <img src="https://images.unsplash.com/photo-1524592094714-0f0654e20314?auto=format&fit=crop&w=1920&q=80"
      class="object-cover" alt="Ad Banner">
    <div class="absolute inset-0 flex flex-col justify-center items-center text-white bg-black bg-opacity-30">
      <h1 class="text-4xl md:text-6xl font-bold mb-4">Ch√†o m·ª´ng ƒë·∫øn v·ªõi WatchStore!</h1>
      <p class="text-lg md:text-xl mb-6">Kh√°m ph√° b·ªô s∆∞u t·∫≠p ƒë·ªìng h·ªì ƒë·∫≥ng c·∫•p</p>
      <button class="bg-blue-600 text-white px-6 py-3 rounded-full hover:bg-blue-700" (click)="closeAdModal()">Kh√°m ph√°
        ngay</button>
    </div>
    <button class="absolute top-6 right-6 text-white text-4xl" (click)="closeAdModal()">
      <i class="fas fa-times"></i>
    </button>
  </div>
</div>

<header class="bg-white shadow-md sticky top-0 z-50">
  <!-- Top Bar -->
  <div class="bg-gray-800 text-white py-2">
    <div class="container mx-auto flex justify-between items-center px-4">
      <div>
        Mi·ªÖn ph√≠ v·∫≠n chuy·ªÉn cho ƒë∆°n h√†ng ti√™u chu·∫©n tr√™n 1.000.000 <sup>ƒë</sup>
      </div>
      <div class="flex items-center space-x-4">
        <a [routerLink]="['/contact']" class="hover:text-gray-300">Tr·ª£ gi√∫p & C√¢u h·ªèi th∆∞·ªùng g·∫∑p</a>
        <a [routerLink]="['/']" class="hover:text-gray-300">T√†i kho·∫£n</a>
        <a [routerLink]="['/']">
          <img
            src="https://media.istockphoto.com/id/961747352/vi/vec-to/c%E1%BB%9D-hoa-k%E1%BB%B3-minh-h%E1%BB%8Da-vector.jpg?s=612x612&w=0&k=20&c=r4KOoQnof8ssQs1XZH_9mZnaX7vtwid7GWIJu2wbhZg="
            alt="English" class="w-6 h-4" />
        </a>
        <a [routerLink]="['/']">
          <img
            src="https://upload.wikimedia.org/wikipedia/commons/thumb/2/21/Flag_of_Vietnam.svg/1200px-Flag_of_Vietnam.svg.png"
            alt="Vi·ªát Nam" class="w-6 h-4" />
        </a>
      </div>
    </div>
  </div>

  <div class="container mx-auto px-8 py-4 flex justify-between items-center">
    <div class="text-2xl font-bold">
      <a [routerLink]="['/']"><img src="logo.png" alt="Logo" /></a>
    </div>

    <nav #menu [ngClass]="{
        'flex': true,
        'flex-col': isMenuOpen,
        'hidden': !isMenuOpen,
        'md:flex': true,
        'md:flex-row': true,
        'md:space-x-6': true,
        'absolute': isMenuOpen,
        'md:static': true,
        'top-16': isMenuOpen,
        'left-0': isMenuOpen,
        'w-full': isMenuOpen,
        'md:w-auto': true,
        'bg-purple-200': isMenuOpen,
        'md:bg-transparent': true
      }">
      <a [routerLink]="['/']" class="text-lg font-bold text-blue-600 px-4 py-2 md:px-2">Trang ch·ªß</a>
      <a [routerLink]="['/products']" class="text-gray-700 text-lg font-bold hover:text-blue-600 px-4 py-2 md:px-2">S·∫£n
        ph·∫©m</a>
      <a [routerLink]="['/blogs']" class="text-gray-700 text-lg font-bold hover:text-blue-600 px-4 py-2 md:px-2">Tin
        t·ª©c</a>
      <a [routerLink]="['/about']" class="text-gray-700 text-lg font-bold hover:text-blue-600 px-4 py-2 md:px-2">Gi·ªõi
        thi·ªáu</a>
      <a [routerLink]="['/contact']" class="text-gray-700 text-lg font-bold hover:text-blue-600 px-4 py-2 md:px-2">Li√™n
        h·ªá</a>
      <a *ngIf="isLoggedIn" [routerLink]="['/orders-tracking']"
        class="text-gray-700 text-lg font-bold hover:text-blue-600 px-4 py-2 md:px-2">H√≥a ƒë∆°n</a>
    </nav>

    <!-- Icons -->
    <div class="flex items-center space-x-4">
      <a class="text-gray-700 text-lg hover:text-blue-600 px-1 cursor-pointer" (click)="toggleSearch($event)">
        <i class="fas fa-search"></i>
      </a>
      <a class="relative text-gray-700 text-lg hover:text-blue-600 px-1 cursor-pointer" (click)="toggleCart($event)">
        <i class="fas fa-shopping-cart"></i>
        <span
          class="absolute top-0 right-0 -mt-1 -mr-1 bg-red-500 text-white text-xs rounded-full h-4 w-4 flex items-center justify-center ">{{
          cartItemCount }}</span>
      </a>
      <a class="relative text-gray-700 text-lg hover:text-blue-600 px-1 cursor-pointer"
        (click)="toggleWishlist($event)">
        <i class="fas fa-heart"></i>
        <span
          class="absolute top-0 right-0 -mt-1 -mr-1 bg-red-500 text-white text-xs rounded-full h-4 w-4 flex items-center justify-center">
          {{ wishlistItemCount }}
        </span>
      </a>
      <a class="text-gray-700 text-lg hover:text-blue-600 mr-6 cursor-pointer" (click)="toggleMenu()">
        <i class="fas fa-user"></i>
      </a>

      <div *ngIf="isMenuOpen" class="menu">
        <!-- N·∫øu ch∆∞a ƒëƒÉng nh·∫≠p -->
        <a *ngIf="!isLoggedIn" [routerLink]="['/register']"
          class="block px-4 py-2 text-gray-700 hover:bg-gray-300 cursor-pointer">ƒêƒÉng
          k√Ω</a>
        <a *ngIf="!isLoggedIn" [routerLink]="['/login']"
          class="block px-4 py-2 text-gray-700 hover:bg-gray-300 cursor-pointer">ƒêƒÉng
          nh·∫≠p</a>
        <a *ngIf="isLoggedIn" [routerLink]="['/account']"
          class="block px-4 py-2 text-gray-700 hover:bg-gray-300 cursor-pointer">Th√¥ng tin t√†i kho·∫£n</a>
        <a *ngIf="isLoggedIn" (click)="logout()"
          class="block px-4 py-2 text-gray-700 hover:bg-gray-300 cursor-pointer">ƒêƒÉng xu·∫•t</a>
      </div>
    </div>

    <!-- Hamburger Icon -->
    <button #hamburger class="md:hidden text-gray-700 text-2xl cursor-pointer" (click)="toggleMenu()">
      <i class="fas fa-bars"></i>
    </button>
  </div>
  <!-- home.component.html -->
  <div *ngIf="isSearchOpen" class="container mx-auto px-4 py-2">
    <div class="relative flex items-center">
      <input type="text" placeholder="Nh·∫≠p th√¥ng tin t√¨m ki·∫øm..." [(ngModel)]="searchQuery" (keydown.enter)="onSearch()"
        class="w-full p-2 pr-12 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-600" />
      <button (click)="onSearch()" class="absolute right-2 focus:outline-none mr-2">
        <svg class="h-6 w-6 text-gray-500 hover:text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"
          xmlns="http://www.w3.org/2000/svg">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
        </svg>
      </button>
    </div>
  </div>
</header>

<!-- Cart Sidebar -->
<div *ngIf="isCartOpen" class="fixed inset-0 z-50 flex justify-end">
  <div class="absolute inset-0 bg-black bg-opacity-50" (click)="toggleCart($event)">
  </div>
  <div
    class="relative w-full max-w-md bg-white h-full shadow-xl transform transition-transform duration-300 ease-in-out px-4 py-4"
    [ngClass]="{'translate-x-0': isCartOpen, 'translate-x-full': !isCartOpen}">
    <div class="p-4">
      <div class="flex justify-between items-center mb-4">
        <h2 class="text-xl font-bold">Gi·ªè h√†ng</h2>
        <button class="text-gray-600 hover:text-gray-800" (click)="toggleCart($event)">
          <i class="fas fa-times"></i>
        </button>
      </div>
      <div *ngIf="cartItemCount === 0" class="text-center text-gray-500">
        Gi·ªè h√†ng tr·ªëng
      </div>
      <div *ngFor="let item of cartItems" class="flex items-center mb-4 border-b pb-2">
        <img *ngIf="item.product.imageUrls && item.product.imageUrls.length > 0" [src]="item.product.imageUrls[0]"
          alt="{{ item.product.name }}" class="product-image">
        <div class="flex-1">
          <h3 class="text-lg font-semibold">{{ item.product.name }}</h3>
          <p class="text-gray-600">{{ item.product.priceSelling
            | number }} <sup>ƒë</sup></p>
          <p class="text-gray-500">S·ªë l∆∞·ª£ng: {{ item.quantity }}</p>
        </div>
      </div>
      <a [routerLink]="['/carts']" *ngIf="cartItemCount > 0"
        class="block w-full bg-blue-600 text-white py-2 rounded-md text-center hover:bg-blue-700">
        Xem chi ti·∫øt
      </a>
    </div>
  </div>
</div>

<!-- Wishlist Sidebar -->
<div *ngIf="isWishlistOpen" class="fixed inset-0 z-50 flex justify-end">
  <div class="absolute inset-0 bg-black bg-opacity-50" (click)="toggleWishlist($event)"></div>
  <div
    class="relative w-full max-w-md bg-white h-full shadow-xl transform transition-transform duration-300 ease-in-out px-4 py-4"
    [ngClass]="{'translate-x-0': isWishlistOpen, 'translate-x-full': !isWishlistOpen}">
    <div class="p-4">
      <div class="flex justify-between items-center mb-4">
        <h2 class="text-xl font-bold">Danh s√°ch y√™u th√≠ch</h2>
        <button class="text-gray-600 hover:text-gray-800" (click)="toggleWishlist($event)">
          <i class="fas fa-times"></i>
        </button>
      </div>
      <div *ngIf="wishlistItemCount === 0" class="text-center text-gray-500">
        Kh√¥ng c√≥ s·∫£n ph·∫©m y√™u th√≠ch n√†o
      </div>
      <div *ngFor="let item of wishlistItems" class="flex items-center mb-4 border-b pb-2">
        <img *ngIf="item.imageUrls && item.imageUrls.length > 0" [src]="item.imageUrls[0]" alt="{{ item.name }}"
          class="product-image">
        <div class="flex-1">
          <h3 class="text-lg font-semibold">{{ item.name }}</h3>
          <p class="text-gray-600">{{ item.priceSelling
            | number }} <sup>ƒë</sup></p>
        </div>
      </div>
      <a [routerLink]="['/wishlist']" *ngIf="wishlistItemCount > 0"
        class="block w-full bg-blue-600 text-white py-2 rounded-md text-center hover:bg-blue-700">
        Xem chi ti·∫øt
      </a>
    </div>
  </div>
</div>

<nav class="bg-white text-black py-2 ml-8">
  <div class="container mx-auto text-sm">
    <ol class="flex justify-start space-x-2">
      <a [routerLink]="['/']" class="text-blue-500 hover:text-blue-700 font-bold underline">
        Trang ch·ªß
      </a>
      <li>&gt;</li>
      <li>&nbsp;Thanh to√°n</li>
    </ol>
  </div>
</nav>

<!-- Banner Trang -->
<section class="bg-gray-800 text-white">
  <div class="container mx-auto text-center relative">
    <div class="carousel-item flex-shrink-0 w-full">
      <!-- ·∫¢nh n·ªÅn v·ªõi l·ªõp overlay -->
      <div class="relative w-full">
        <img src="bg-02.png" class="w-full h-56 object-cover" alt="Banner Image">
        <div class="absolute inset-0 bg-black opacity-50"></div> <!-- L·ªõp n·ªÅn m·ªù -->
      </div>
      <div class="absolute inset-0 flex flex-col justify-center items-center text-white">
        <h1 class="text-4xl md:text-5xl font-bold mb-4">Ho√†n t·∫•t thanh to√°n</h1>
      </div>
    </div>
  </div>
</section>

<!-- Danh s√°ch s·∫£n ph·∫©m -->
<section class="bg-gray-50 py-12 px-4">
  <div class="container mx-auto px-4">
    <h2 class="text-3xl font-bold text-center mb-6">Th√¥ng tin thanh to√°n</h2>
    <div class="container mx-auto">
      <!-- H·ªôp th√¥ng b√°o ·ªü gi·ªØa m√†n h√¨nh v·ªõi n·ªÅn m·ªù -->
      <div *ngIf="showSuccess"
        class="fixed inset-0 flex items-center justify-center z-50 bg-gray-400 bg-opacity-40 backdrop-blur-sm">
        <div
          class="bg-green-500 text-white font-bold text-2xl px-8 py-8 rounded-xl shadow-lg animate-fade-in-out transition duration-300 flex items-center space-x-3">
          <i class="fa fa-check-circle text-white text-3xl"></i>
          <span>{{contentSuccess}}</span>
        </div>
      </div>
      <div *ngIf="cartItems.length === 0">
        <h2 class="text-xl font-bold text-center text-blue-500">Gi·ªè h√†ng tr·ªëng</h2>
        <a [routerLink]="['/products']"
          class="w-full py-4 flex justify-center hover:font-bold hover:text-blue-600 hover:underline">
          Quay l·∫°i trang S·∫£n ph·∫©m</a>
      </div>
      <div *ngIf="cartItems.length > 0" class="grid grid-cols-1 lg:grid-cols-2 gap-4">
        <div class="overflow-x-auto bg-white rounded-xl shadow-lg px-2 py-4">
          <h2 class="text-2xl font-bold text-gray-800 text-center mt-2">Th√¥ng tin ƒë∆°n h√†ng</h2>
          <label class="block mb-4 text-black font-semibold px-2">M√£ ƒë∆°n h√†ng: {{ order?.orderCode }}</label>
          <table class="min-w-full table-fixed text-sm text-left text-gray-500">
            <thead class="text-blue-700 font-bold border-b">
              <tr>
                <th class="px-2 py-3 text-center w-[50px]">STT</th>
                <th class="px-2 py-3 text-center w-[100px]">·∫¢nh</th>
                <th class="px-2 py-3 text-center w-[100px]">M√£ SP</th>
                <th class="px-2 py-3 text-center w-[250px]">T√™n s·∫£n ph·∫©m</th>
                <th class="px-2 py-3 text-center w-[120px]">Gi√° b√°n</th>
                <th class="px-2 py-3 text-center w-[100px]">S·ªë l∆∞·ª£ng ƒë√£ mua</th>
                <th class="px-2 py-3 text-center w-[200px]">Th√†nh ti·ªÅn</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let item of cartItems; let i = index" class="bg-white border-b hover:bg-gray-100 transition">
                <td class="px-2 py-4 text-center font-semibold text-gray-700">{{ i + 1 }}</td>
                <td class="px-2 py-4 text-center">
                  <img *ngIf="item.product.imageUrls && item.product.imageUrls.length > 0"
                    [src]="item.product.imageUrls[0]" alt="{{ item.product.name }}"
                    class="w-20 h-20 rounded-xl object-cover border-4 border-white shadow-md mx-auto">
                </td>
                <td class="px-2 py-4 text-center font-semibold">{{ item.product.productCode }}</td>
                <td class="px-2 py-4 text-center font-bold text-gray-800">{{ item.product.name }}</td>
                <td class="px-2 py-4 text-center text-red-600 font-bold text-lg">{{ item.product.priceSelling | number
                  }}<sup>ƒë</sup></td>
                <td class="px-2 py-4">
                  <div class="px-2 py-4 text-center text-black font-bold text-lg">{{ item.quantity }}</div>
                </td>
                <td class="px-2 py-4 text-center text-xl font-bold text-gray-800">
                  {{ item.quantity * item.product.priceSelling | number }}<sup>ƒë</sup>
                </td>
              </tr>
            </tbody>
          </table>
          <div class="mt-8">
            <div class="bg-white rounded-xl p-6 shadow-lg max-w-xl mx-auto">
              <div class="space-y-4 mb-6">
                <div class="flex justify-between items-center">
                  <span class="text-gray-600">T·ªïng s·∫£n ph·∫©m:</span>
                  <span class="font-medium">{{ totalItems }}</span>
                </div>
                <div class="flex justify-between items-center">
                  <span class="text-gray-600">Ph√≠ v·∫≠n chuy·ªÉn:</span>
                  <span class="text-green-500 font-bold">0<sup>ƒë</sup></span>
                </div>
              </div>

              <div class="border-t pt-4">
                <div class="flex justify-between items-center">
                  <span class="text-xl font-bold">T·ªïng thanh to√°n:</span>
                  <span class="text-2xl font-bold text-blue-600">{{ totalAmount | number }}<sup>ƒë</sup></span>
                </div>
              </div>
            </div>
          </div>
          <svg xmlns="http://www.w3.org/2000/svg" class="hidden">
            <symbol id="trash-icon" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round"
                d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
            </symbol>
            <symbol id="plus-icon" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round" d="M12 4v16m8-8H4" />
            </symbol>
            <symbol id="minus-icon" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round" d="M20 12H4" />
            </symbol>
          </svg>
        </div>

        <div class="bg-white py-2 px-6 rounded-xl shadow-lg space-y-4">
          <h2 class="text-2xl font-bold text-gray-800 mb-4 text-center mt-2">Th√¥ng tin kh√°ch h√†ng</h2>
          <div>
            <label class="block mb-1 text-gray-700 font-semibold">H·ªç v√† t√™n: {{ order?.nameUser }}</label>
          </div>
          <div>
            <label class="block mb-1 text-gray-700 font-semibold">S·ªë ƒëi·ªán tho·∫°i: {{ order?.phoneUser }}</label>
          </div>
          <div>
            <label class="block mb-1 text-gray-700 font-semibold">Email: {{ order?.emailUser }}</label>
          </div>
          <div>
            <label class="block mb-1 text-gray-700 font-semibold">ƒê·ªãa ch·ªâ giao h√†ng: {{ order?.addressUser }}</label>
          </div>
          <div class="mt-4">
            <label class="block mb-1 text-gray-700 font-semibold">Ch·ªçn h√¨nh th·ª©c thanh to√°n</label>
            <select id="payment_method" [(ngModel)]="selectedPaymentMethod" (change)="onPaymentMethodChange()"
              class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring focus:ring-blue-200">
              <option value="" disabled selected>-- Ch·ªçn h√¨nh th·ª©c thanh to√°n --</option>
              <option value="cod">Thanh to√°n khi nh·∫≠n h√†ng (COD)</option>
              <option value="online">Chuy·ªÉn kho·∫£n ng√¢n h√†ng (Qu√©t m√£ QR)</option>
            </select>
            <div *ngIf="selectedPaymentMethod === 'online' && !qrExpired" id="qr_image_wrapper"
              class="mt-4 text-center">
              <img [src]="qrCodeUrl" alt="M√£ QR thanh to√°n" class="mx-auto w-60 h-auto rounded-lg shadow-md">
              <p>Tr·∫°ng th√°i thanh to√°n: {{ paymentStatus }}</p>
              <p class="text-base font-bold mt-2 text-gray-900">M√£ QR s·∫Ω h·∫øt h·∫°n sau: {{ qrCountdownFormatted }} ph√∫t
              </p>
            </div>

            <div *ngIf="qrExpired" class="mt-4 text-center text-red-600">
              <p>M√£ QR ƒë√£ h·∫øt h·∫°n sau 3 ph√∫t. Vui l√≤ng ch·ªçn l·∫°i h√¨nh th·ª©c thanh to√°n.</p>
            </div>
            <!-- N√∫t x√°c nh·∫≠n ch·ªâ hi·ªán khi ch·ªçn COD -->
            <div class="mt-6 text-center" *ngIf="selectedPaymentMethod === 'cod'">
              <button
                class="bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-6 rounded-lg shadow transition"
                (click)="onConfirmCOD()">
                X√°c nh·∫≠n ƒë·∫∑t h√†ng
              </button>
            </div>
          </div>
          <div class="mt-8 max-w-xl mx-auto text-center p-6 bg-white rounded-2xl shadow-md">
            <h3 class="text-xl font-semibold text-gray-800 mb-4">Tr·∫°ng th√°i thanh to√°n: </h3>
            <div *ngIf="paymentStatus === 'Chuy·ªÉn kho·∫£n th√†nh c√¥ng!'"
              class="bg-green-100 text-green-700 p-4 rounded-lg font-medium shadow-sm">
              ‚úÖ Thanh to√°n ƒë√£ ƒë∆∞·ª£c x√°c nh·∫≠n! C·∫£m ∆°n b·∫°n ƒë√£ mua h√†ng.
            </div>

            <div *ngIf="paymentStatus === 'ƒêang x·ª≠ l√Ω'"
              class="bg-yellow-100 text-yellow-700 p-4 rounded-lg font-medium shadow-sm">
              ‚è≥ ƒêang ch·ªù thanh to√°n...
            </div>
          </div>
          <!-- L·ªùi c·∫£m ∆°n -->
          <div class="mt-8 p-6 bg-green-100 rounded-2xl shadow-md text-center max-w-xl mx-auto">
            <h3 class="text-2xl font-bold text-green-700 mb-4">üéâ C·∫£m ∆°n b·∫°n ƒë√£ ƒë·∫∑t h√†ng!</h3>
            <p class="text-gray-700 mb-2">
              Ch√∫ng t√¥i r·∫•t tr√¢n tr·ªçng ƒë∆°n h√†ng c·ªßa b·∫°n. Nh√¢n vi√™n s·∫Ω s·ªõm li√™n h·ªá ƒë·ªÉ x√°c nh·∫≠n th√¥ng tin ƒë∆°n h√†ng.
            </p>
            <p class="text-gray-600">
              Vui l√≤ng ch√∫ √Ω ƒëi·ªán tho·∫°i ho·∫∑c email ƒë·ªÉ c·∫≠p nh·∫≠t th√¥ng tin.
            </p>
          </div>
          <div class="mb-4"></div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Footer -->
<footer class="bg-gray-800 text-white py-12">
  <div class="container mx-auto px-4">
    <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
      <div>
        <h3 class="text-xl font-bold mb-4">ƒê·ªìng h·ªì Ph∆∞∆°ng Nam</h3>
        <p>C·ª≠a h√†ng ƒë·ªìng h·ªì uy t√≠n, ch·∫•t l∆∞·ª£ng h√†ng ƒë·∫ßu.</p>
      </div>
      <div>
        <h3 class="text-xl font-bold mb-4">Li√™n k·∫øt nhanh</h3>
        <ul class="space-y-2">
          <li><a [routerLink]="['/']" class="hover:text-blue-400">Trang ch·ªß</a></li>
          <li><a [routerLink]="['/products']" class="hover:text-blue-400">S·∫£n ph·∫©m</a></li>
          <li><a [routerLink]="['/blogs']" class="hover:text-blue-400">Tin t·ª©c</a></li>
          <li><a [routerLink]="['/about']" class="hover:text-blue-400">Gi·ªõi thi·ªáu</a></li>
          <li><a [routerLink]="['/contact']" class="hover:text-blue-400">Li√™n h·ªá</a></li>
        </ul>
      </div>
      <div>
        <h3 class="text-xl font-bold mb-4">Li√™n h·ªá</h3>
        <p>Email: {{email}}</p>
        <p>Hotline: 0349135499 - 0359782629</p>
        <p>ƒê·ªãa ch·ªâ: 31 P. ƒêinh Ti√™n Ho√†ng, H√†ng Tr·ªëng, Ho√†n Ki·∫øm, H√† N·ªôi, Vi·ªát Nam</p>
      </div>
      <div>
        <h3 class="text-xl font-bold mb-4">Theo d√µi ch√∫ng t√¥i</h3>
        <div class="flex space-x-4">
          <a [routerLink]="['/']" class="text-2xl hover:text-blue-400"><i class="fab fa-facebook"></i></a>
          <a [routerLink]="['/']" class="text-2xl hover:text-blue-400"><i class="fab fa-instagram"></i></a>
          <a [routerLink]="['/']" class="text-2xl hover:text-blue-400"><i class="fab fa-twitter"></i></a>
        </div>
      </div>
    </div>
    <div class="mt-8 text-center">
      <p>&copy; 2025 ƒê·ªìng h·ªì Ph∆∞∆°ng Nam. M·ªçi quy·ªÅn ƒë∆∞·ª£c b·∫£o l∆∞u.</p>
    </div>
  </div>
</footer>

<!-- N√∫t li√™n h·ªá -->
<div class="fixed bottom-20 right-6 z-50">
  <!-- N√∫t ch√≠nh -->
  <button (click)="toggleContactMenu()"
    class="bg-green-500 text-white p-4 rounded-full shadow-lg hover:bg-green-600 transition duration-300 flex items-center justify-center animate-pulse-slow hover:transform hover:-translate-y-1 focus:outline-none">
    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 animate-wiggle" fill="none" viewBox="0 0 24 24"
      stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
        d="M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l4-4h3.414" />
    </svg>
  </button>

  <!-- Menu li√™n h·ªá khi m·ªü -->
  <div *ngIf="isContactMenuOpen"
    class="absolute bottom-16 right-0 bg-white rounded-lg shadow-xl p-2 w-48 flex flex-col gap-2 transition-all duration-300 animate-slide-up">
    <!-- G·ªçi ƒëi·ªán -->
    <a href="tel:+1234567890" class="flex items-center gap-2 px-3 py-2 hover:bg-gray-100 rounded-lg transition-colors">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-blue-500" fill="none" viewBox="0 0 24 24"
        stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
          d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
      </svg>
      <span class="text-gray-700">G·ªçi ƒëi·ªán</span>
    </a>

    <!-- Chatbox -->
    <button (click)="toggleChatbox()"
      class="flex items-center gap-2 px-3 py-2 hover:bg-gray-100 rounded-lg transition-colors">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-green-500" fill="none" viewBox="0 0 24 24"
        stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
          d="M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z" />
      </svg>
      <span class="text-gray-700">Chatbox</span>
    </button>

    <!-- Message -->
    <a href="sms:+1234567890" class="flex items-center gap-2 px-3 py-2 hover:bg-gray-100 rounded-lg transition-colors">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-orange-500" fill="none" viewBox="0 0 24 24"
        stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
          d="M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z" />
      </svg>
      <span class="text-gray-700">Tin nh·∫Øn</span>
    </a>
  </div>
</div>

<!-- Chatbox -->
<div *ngIf="isChatboxOpen"
  class="fixed bottom-20 right-6 w-80 bg-white rounded-lg shadow-2xl z-50 flex flex-col max-h-[400px] animate-slide-up">
  <!-- Header -->
  <div class="bg-green-500 text-white p-3 rounded-t-lg flex justify-between items-center">
    <span class="font-semibold">H·ªó tr·ª£ tr·ª±c tuy·∫øn</span>
    <button (click)="toggleChatbox()" class="text-white hover:text-gray-200">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
      </svg>
    </button>
  </div>

  <!-- Messages -->
  <div class="flex-1 p-4 overflow-y-auto">
    <div *ngFor="let message of chatMessages" class="mb-3">
      <div [ngClass]="message.isUser ? 'text-right' : 'text-left'">
        <span [ngClass]="message.isUser ? 'bg-blue-100' : 'bg-gray-100'" class="inline-block p-2 rounded-lg text-sm">
          {{ message.text }}
        </span>
      </div>
    </div>
    <!-- Loading indicator -->
    <div *ngIf="isLoading" class="text-left">
      <span class="inline-block p-2 rounded-lg text-sm bg-gray-100">
        ƒêang x·ª≠ l√Ω...
      </span>
    </div>
  </div>

  <!-- Input -->
  <div class="p-3 border-t">
    <form (ngSubmit)="sendMessage()" class="flex gap-2">
      <input [(ngModel)]="chatInput" name="chatInput" type="text" placeholder="Nh·∫≠p tin nh·∫Øn..."
        class="flex-1 p-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500">
      <button type="submit" class="bg-green-500 text-white p-2 rounded-lg hover:bg-green-600">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
          <path
            d="M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z" />
        </svg>
      </button>
    </form>
  </div>
</div>

<!-- N√∫t l√™n ƒë·∫ßu trang -->
<button *ngIf="showScrollTop" (click)="scrollToTop()"
  class="fixed bottom-6 right-6 bg-blue-600 text-white p-3 rounded-full shadow-lg hover:bg-blue-700 transition duration-300 z-50">
  <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"
    stroke-width="2">
    <path stroke-linecap="round" stroke-linejoin="round" d="M5 15l7-7 7 7" />
  </svg>
</button>